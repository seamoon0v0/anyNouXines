<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Any Nou Xinés</title>
    <link rel="stylesheet" href="css/any-nou-xines.css">
    <link rel="stylesheet" href="css/navigation.css">
    <link rel="stylesheet" href="css/fixes.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="css/responsive-menu-fix.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* padding now in fixes.css */


        /* 新增的章节导航样�?*/
        .section-navigation {
            position: fixed;
            bottom: 20px;
            right: 20px;
            left: auto;
            transform: none;
            display: flex;
            gap: 15px;
            z-index: 1000;
            background-color: white;
            padding: 10px 20px;
            border-radius: 30px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .section-navigation .nav-btn {
            background-color: #f0f0f0;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .section-navigation .nav-btn:hover {
            background-color: #e0e0e0;
        }

        .section-navigation .arrow-icon {
            width: 20px;
            height: 20px;
        }

        .section-navigation .nav-btn.disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        /* Mobile responsive improvements */
        @media (max-width: 768px) {
            .section-navigation {
                bottom: 15px;
                right: 15px;
                padding: 8px 15px;
                gap: 10px;
            }

            .section-navigation .nav-btn {
                width: 35px;
                height: 35px;
            }

            .section-navigation .arrow-icon {
                width: 16px;
                height: 16px;
            }

            .back-home-btn {
                top: 15px;
                left: 15px;
                padding: 10px;
                width: 42px;
                height: 42px;
            }

            .back-arrow-icon {
                width: 18px;
                height: 18px;
            }


        }

        /* Small mobile devices */
        @media (max-width: 480px) {
            .section-navigation {
                bottom: 10px;
                right: 10px;
                padding: 6px 12px;
            }

            .section-navigation .nav-btn {
                width: 30px;
                height: 30px;
            }

            .section-navigation .arrow-icon {
                width: 14px;
                height: 14px;
            }
        }
    </style>
</head>
<body>


    <!-- 返回首页按钮 -->
    <a href="index.html" class="back-home-btn">
        <img src="assets/images/button/arrow left.svg" alt="Tornar Inici" class="back-arrow-icon">
    </a>

    <!-- 章节导航按钮 -->
    <div class="section-navigation">
        <button class="nav-btn prev-section" aria-label="Secció anterior">
            <img src="assets/images/button/arrow left.svg" alt="Anterior" class="arrow-icon">
        </button>
        <button class="nav-btn next-section" aria-label="Secció següent">
            <img src="assets/images/button/arrow right.svg" alt="Següent" class="arrow-icon">
        </button>
    </div>

    <div class="horizontal-scroll-container">
        <!-- 第一部分：历史起�?-->
        <section id="historia-origen" class="scroll-section">
            <div class="historia-content">
                <div class="historia-tree fade-in">
                    <img src="assets/images/any.xines/meihua.gif" alt="Arbre de Meihua" class="meihua-tree">
                </div>
                <div class="historia-details">
                    <div class="historia-text fade-in">
                        <h1 class="section-title">Història i Origen</h1>
                        <p class="section-description">
                            L'Any Nou Xinès és la festivitat més important del calendari lunar xinès, amb més de quatre mil anys d'història. 
                            Marca l'inici de la primavera i és un moment de renovació, retrobament familiar i bons desitjos.
                        </p>
                    </div>
                    <div class="historia-image fade-in">
                        <img src="assets/images/any.xines/dryxt.gif" alt="Nens tradicionals xinesos" class="tradicio-image">
                    </div>
                </div>
            </div>
        </section>

        <!-- 第二部分：历史起源的延续 -->
        <section id="historia-continuacio" class="scroll-section">
            <div class="historia-content">
                <div class="top-text fade-in">
                    <p class="section-description">
                        <span class="initial-letter">S</span>egons la llegenda, fa molts segles una criatura anomenada 
                        <span class="highlight-nian">Nian</span> baixava cada any als pobles per espantar la gent i el bestiar.
                    </p>
                </div>
                
                <div class="middle-text fade-in">
                    <p class="section-description">
                        Els habitants van descobrir que la bèstia tenia por del soroll 
                        <span class="highlight-fort">fort</span> i del color <span class="highlight-vermell">vermell</span>.
                    </p>
                </div>
                
                <div class="historia-tree fade-in">
                    <img src="assets/images/any.xines/shiwu0002.png" alt="Llegenda del Nian" class="meihua-tree">
                </div>
                
                <div class="bottom-text fade-in">
                    <p class="section-description">
                        Per això, van començar a encendre focs artificials i a decorar les cases amb papers vermells, 
                        costums que han arribat fins avui com a símbol de <span class="highlight-proteccio">protecció</span> i <span class="highlight-prosperitat">prosperitat</span>.
                    </p>
                </div>
            </div>
        </section>

        <!-- 第三部分：庆�?-->
        <section id="celebracio" class="scroll-section">
            <div class="historia-content">
                <div class="top-text fade-in">
                    <p class="section-description">
                        <span class="initial-letter">A</span> més de la seva llegenda, l'Any Nou Xinès ha evolucionat fins a convertir-se 
                        en una celebració plena de rituals i traditions:
                    </p>
                </div>
                
                <div class="middle-text fade-in">
                    <p class="section-description">
                        des de la <span class="highlight-dansa">dansa del drac</span> 
                        i del <span class="highlight-lleo">lleó</span>,
                    </p>
                </div>
                
                <div class="historia-tree fade-in">
                    <img src="assets/images/any.xines/lion.png" alt="Dansa del Lleó" class="meihua-tree lion-image">
                    <img src="assets/images/any.xines/dos mujeres.png" alt="Dones en celebració" class="meihua-tree women-image">
                </div>
                
                <div class="bottom-text fade-in">
                    <p class="section-description">
                        fins reunions familiars, les decoracions vermelles i els famosos 
                        <span class="highlight-sobres">sobres amb diners</span> 
                        (<span class="highlight-hongbao">hóngbāo 红包</span>), 
                        que desitgen sort i felicitat per al nou any.
                    </p>
                </div>
            </div>
        </section>

        <!-- 第四部分：全球庆�?-->
        <section id="global-celebration" class="scroll-section">
            <div class="historia-content">
                <div class="top-text fade-in">
                    <p class="section-description">
                        <span class="initial-letter">A</span>vui dia, aquesta festa no nomès se celebra a la Xina, sinó també arreu del món.
                    </p>
                </div>
                
                <div class="historia-tree fade-in">
                    <img src="assets/images/any.xines/final.jpg" alt="Celebració global de l'Any Nou Xinès" class="final-image">
                </div>
                
                <div class="bottom-text fade-in">
                    <p class="section-description">
                        A <span class="highlight-barcelona">Barcelona</span>, 
                        esdevé un espai de trobada intercultural que uneix comunitats i acosta les 
                        tradicions xineses a tota la ciutadania.
                    </p>
                </div>
            </div>
        </section>
    </div>

    <script src="js/navigation.js"></script>
    <script src="js/mobile-menu-fix.js"></script>
    <script>
        // Fade-in animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        // Observe all fade-in elements
        document.querySelectorAll('.fade-in').forEach(el => {
            observer.observe(el);
        });
    </script>
    <script>
        // 语言选择器逻辑



        // 淡入效果�?JavaScript
        function checkFadeIn() {
            const fadeElements = document.querySelectorAll('.fade-in');
            fadeElements.forEach(element => {
                const elementTop = element.getBoundingClientRect().top;
                const elementBottom = element.getBoundingClientRect().bottom;
                const isVisible = (elementTop < window.innerHeight) && (elementBottom >= 0);
                
                if (isVisible) {
                    element.classList.add('visible');
                }
            });
        }

        // 监听滚动事件
        window.addEventListener('scroll', checkFadeIn);
        window.addEventListener('load', checkFadeIn);

        // 章节导航逻辑
        document.addEventListener('DOMContentLoaded', () => {
            const sections = document.querySelectorAll('.scroll-section');
            const prevBtn = document.querySelector('.prev-section');
            const nextBtn = document.querySelector('.next-section');
            let currentSectionIndex = 0;

            function updateNavigation() {
                prevBtn.classList.toggle('disabled', currentSectionIndex === 0);
                nextBtn.classList.toggle('disabled', currentSectionIndex === sections.length - 1);
            }

            function scrollToSection(index) {
                if (index >= 0 && index < sections.length) {
                    sections[index].scrollIntoView({ behavior: 'smooth' });
                    currentSectionIndex = index;
                    updateNavigation();
                }
            }

            prevBtn.addEventListener('click', () => {
                if (currentSectionIndex > 0) {
                    scrollToSection(currentSectionIndex - 1);
                }
            });

            nextBtn.addEventListener('click', () => {
                if (currentSectionIndex < sections.length - 1) {
                    scrollToSection(currentSectionIndex + 1);
                }
            });

            // 初始化导航状�?            updateNavigation();

            // 检测当前活跃的章节
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        currentSectionIndex = Array.from(sections).indexOf(entry.target);
                        updateNavigation();
                    }
                });
            }, {
                threshold: 0.5
            });

            sections.forEach(section => observer.observe(section));
        });
    </script>
</body>
</html>




